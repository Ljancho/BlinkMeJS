(function(){function a(b){if(false===this instanceof a){return new a(b)}if(typeof b=="undefined"||typeof b.id=="undefined"||typeof b.colors=="undefined"&&typeof b.classes=="undefined"||typeof b.colors!="undefined"&&(typeof b.colors.normal=="undefined"||typeof b.colors.blinked=="undefined")||typeof b.classes!="undefined"&&(typeof b.classes.normal=="undefined"||typeof b.classes.blinked=="undefined")){alert("Blinking.js: Please provide the required params (id ''/['','',..], colors {normal: '', blinked: ''} or classes {normal: '', blinked: ''})!");return false}if(typeof b.interval=="undefined")b.interval=500;if(typeof b.autostart=="undefined")b.autostart=true;if(typeof b.start_on_load=="undefined")b.start_on_load=true;if(typeof b.callback_normal=="undefined")b.callback_normal=false;if(typeof b.callback_blinked=="undefined")b.callback_blinked=false;if(typeof b.id!="object"){b.id=[b.id]}this.params=b;this.classes=!!b.classes&&!!b.classes.normal&&!!b.classes.blinked;this.text_timer=null;this.blinked=false;this.els=[];if(!this.params.autostart||!this.params.start_on_load){this.oldonload=window.onload;window.onload=function(){if(typeof this.oldonload=="function")this.oldonload();this.init.call(this)}.bind(this)}if(!!this.params.autostart&&!!this.params.start_on_load){this.oldonload=window.onload;window.onload=function(){if(typeof this.oldonload=="function")this.oldonload();this.init.call(this);this.start_blink.call(this)}.bind(this)}else if(!!this.params.autostart){this.start_blink()}return this}a.prototype.blink=function(){var a=this.blinked;for(var b=0;b<this.els.length;b++){var c=this.els[b];if(!this.blinked){if(!!this.classes){this.manageClass(c,this.params.classes.normal,"remove");this.manageClass(c,this.params.classes.blinked,"add")}else c.style.color=this.params.colors.blinked;if(b==this.params.id.length-1)this.blinked=true}else{if(!!this.classes){this.manageClass(c,this.params.classes.blinked,"remove");this.manageClass(c,this.params.classes.normal,"add")}else c.style.color=this.params.colors.normal;if(b==this.params.id.length-1)this.blinked=false}}if(!!this.params.callback_normal&&!!a&&!this.blinked)this.params.callback_normal(this);if(!!this.params.callback_blinked&&!a&&!!this.blinked)this.params.callback_blinked(this)};a.prototype.start_blink=function(){this.text_timer=setInterval(this.blink.bind(this),this.params.interval)};a.prototype.hasClassList=function(){var a=document.createElement("div");return typeof a.classList!="undefined"}();a.prototype.init=function(){var a=null;for(var b=0;b<this.params.id.length;b++){a=document.getElementById(this.params.id[b]);this.els=this.els.concat(a);if(!!this.classes)this.manageClass(a,this.params.classes.normal,"add");else a.style.color=this.params.colors.normal}};a.prototype.manageClass=function(a,b,c){if(this.hasClassList){if(c=="add")a.classList.add(b);else if(c=="remove")a.classList.remove(b)}else{var d=new RegExp("\\b"+b+"\\b","g");if(c=="add"){if(!a.className.match(d))a.className+=" "+b}else if(c=="remove"){if(!!a.className.match(d))a.className=a.className.replace(d,"")}}};a.prototype.stop_blink=function(){clearInterval(this.text_timer);this.blinked=false;for(var a=0;a<this.params.id.length;a++){var b=document.getElementById(this.params.id[a]);if(!!this.classes){this.manageClass(b,this.params.classes.blinked,"remove");this.manageClass(b,this.params.classes.normal,"add")}else b.style.color=this.params.colors.normal}};window.BlinkMe=a})()